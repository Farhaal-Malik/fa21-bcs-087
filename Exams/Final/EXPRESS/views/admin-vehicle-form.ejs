<link rel="stylesheet" href="/css/admin-product-form.css">

<div class="form-wrapper">
  <div class="form-header">
    <h2><%= vehicle._id ? "Edit Vehicle" : "Add New Vehicle" %></h2>
  </div>

  <form
    action="<%= vehicle._id
              ? '/admin/vehicles/' + vehicle._id + '/edit'
              : '/admin/vehicles/add' %>"
    method="POST"
    enctype="multipart/form-data"
    class="form-card"
  >
    <!-- Name -->
    <div>
      <label>Name</label>
      <input
        type="text"
        name="name"
        value="<%= vehicle.name || '' %>"
        placeholder="e.g. Toyota Corolla"
        required
      >
    </div>

    <!-- Brand -->
    <div>
      <label>Brand</label>
      <input
        type="text"
        name="brand"
        value="<%= vehicle.brand || '' %>"
        placeholder="e.g. Toyota"
        required
      >
    </div>

    <!-- Price -->
    <div>
      <label>Price</label>
      <input
        type="number"
        step="0.01"
        name="price"
        value="<%= vehicle.price || '' %>"
        placeholder="e.g. 23000"
        required
      >
    </div>

    <!-- Type -->
    <div>
      <label>Type</label>
      <select name="type" required>
        <% const types = ["Sedan", "SUV", "Truck", "Van", "Coupe", "Hatchback", "Convertible"]; %>
        <% types.forEach(t => { %>
          <option value="<%= t %>" <%= vehicle.type === t ? "selected" : "" %>><%= t %></option>
        <% }) %>
      </select>
    </div>

    <!-- Existing Image Preview -->
    <% if (vehicle.image) { %>
      <div class="preview-box">
        <label>Current Image</label>
        <img src="<%= vehicle.image %>" alt="<%= vehicle.name %>">
      </div>
    <% } %>

    <!-- Optional Image URL -->
    <div>
      <label>Image URL (optional)</label>
      <input
        type="url"
        name="imageUrl"
        value="<%= vehicle.image || '' %>"
        placeholder="https://example.com/image.jpg"
      >
    </div>

    <!-- Image Upload -->
    <div>
      <label>Or upload image</label>
      <input type="file" name="image" accept="image/*">
    </div>

    <button type="submit" class="btn-save">Save</button>
  </form>
</div>
