<link rel="stylesheet" href="/css/admin-product-form.css">

<div class="form-wrapper">
  <div class="form-header">
    <h2><%= product._id ? "Edit Product" : "Add New Product" %></h2>
  </div>

  <form
    action="<%= product._id
              ? '/admin/products/' + product._id + '/edit'
              : '/admin/products/add' %>"
    method="POST"
    enctype="multipart/form-data"
    class="form-card"
  >
    <!-- Name -->
    <div>
      <label>Name</label>
      <input
        type="text"
        name="name"
        value="<%= product.name || '' %>"
        placeholder="Eg. Mini Zipped Bayswater"
        required
      >
    </div>

    <!-- Price -->
    <div>
      <label>Price</label>
      <input
        type="number"
        step="0.01"
        name="price"
        value="<%= product.price || '' %>"
        placeholder="Eg. 1695"
        required
      >
    </div>

    <!-- Description -->
    <div>
      <label>Description</label>
      <textarea
        name="description"
        placeholder="Write a short product description..."
        required
      ><%= product.description || '' %></textarea>
    </div>

    <!-- Existing preview if editing -->
    <% if (product.image) { %>
      <div class="preview-box">
        <label>Current Image</label>
        <img src="<%= product.image %>" alt="<%= product.name %>">
      </div>
    <% } %>

    <!-- Image URL -->
    <div>
      <label>Image URL (optional)</label>
      <input
        type="url"
        name="imageUrl"
        value="<%= product.image || '' %>"
        placeholder="https://example.com/image.jpg"
      >
    </div>

    <!-- File upload -->
    <div>
      <label>Or upload image</label>
      <input type="file" name="image" accept="image/*">
    </div>

    <!-- Save -->
    <button type="submit" class="btn-save">Save</button>
  </form>
</div>
